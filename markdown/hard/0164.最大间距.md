<h1 style="text-align: center;"> <span style="color: #FF2D55;">164. æœ€å¤§é—´è·</span> </h1>

### ğŸš€ LeetCode

<base target="_blank">

<span style="color: #FF2D55;">**Hard**</span> [**https://leetcode.cn/problems/maximum-gap/**](https://leetcode.cn/problems/maximum-gap/)

---

### â“ Description

<br/>

ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ `nums`ï¼Œè¿”å› æ•°ç»„åœ¨æ’åºä¹‹åï¼Œ*ç›¸é‚»å…ƒç´ ä¹‹é—´æœ€å¤§çš„å·®å€¼* ã€‚

å¦‚æœæ•°ç»„å…ƒç´ ä¸ªæ•°å°äº `2`ï¼Œåˆ™è¿”å› `0` ã€‚

æ‚¨å¿…é¡»ç¼–å†™ä¸€ä¸ªåœ¨ **ã€Œçº¿æ€§æ—¶é—´ã€** å†…è¿è¡Œå¹¶ä½¿ç”¨ **ã€Œçº¿æ€§é¢å¤–ç©ºé—´ã€** çš„ç®—æ³•ã€‚

<br/>

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: nums = [3, 6, 9, 1]
è¾“å‡º: 3
è§£é‡Š: æ’åºåçš„æ•°ç»„æ˜¯ [1, 3, 6, 9], å…¶ä¸­ç›¸é‚»å…ƒç´  (3,6) å’Œ (6,9) ä¹‹é—´éƒ½å­˜åœ¨æœ€å¤§å·®å€¼ 3
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: nums = [10]
è¾“å‡º: 0
è§£é‡Š: æ•°ç»„å…ƒç´ ä¸ªæ•°å°äº 2, å› æ­¤è¿”å› 0
```

<br/>

**æç¤ºï¼š**

* `1 <= nums.length <= 10^5`
* `0 <= nums[i] <= 10^9`

---

### â— Solution

<br/>

#### idea

* å¦‚æœæ²¡æœ‰ **çº¿æ€§æ—¶é—´** çš„è¦æ±‚ï¼Œä½¿ç”¨è¯­è¨€å†…ç½®çš„ **å¿«é€Ÿæ’åº** å¯¹æ•°ç»„è¿›è¡Œæ’åºåï¼Œéå†ä¸€æ¬¡æ•°ç»„å³å¯æ‰¾åˆ°ç»“æœ

```
class Solution {
    public int maximumGap(int[] nums) {
        int len = nums.length;
        if (len < 2) {
            return 0;
        }
        Arrays.sort(nums);
        int result = 0;
        for (int i = 0; i < len - 1; i++) {
            result = Math.max(result, nums[i + 1] - nums[i]);
        }
        return result;
    }
}
```

* ä½†æ˜¯é¢˜ç›®ä¸­é™åˆ¶ä½¿ç”¨ **çº¿æ€§æ—¶é—´** è§£é¢˜ï¼Œæ‰€ä»¥é¢˜ç›®è€ƒå¯Ÿçš„æ˜¯æ’åºç®—æ³•ç›¸å…³çš„çŸ¥è¯†
* **å¿«é€Ÿæ’åº** çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n logn)`ï¼Œä¸ç¬¦åˆé¢˜ç›®è¦æ±‚
* **åŸºæ•°æ’åº** å¯¹äº **æ•°ç»„å…ƒç´ å…¨æ˜¯æ•´æ•°** çš„ç‰¹æ®Šæƒ…å†µï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥é™åˆ° `O(n)`
* æ‰€ä»¥éœ€è¦ä½¿ç”¨ **åŸºæ•°æ’åº**ï¼Œå°†ä¸Šè¿°ä»£ç ä¸­çš„æ’åºä»£ç æ›¿æ¢æˆ **åŸºæ•°æ’åº**

<br/>

* **åŸºæ•°æ’åº** åˆ†ä¸º `LSD` å’Œ `MSD`ï¼Œé€‰æ‹©ä½¿ç”¨ `LSD` è§£é¢˜
* `max` å­˜å‚¨æ•°ç»„ä¸­çš„æœ€å¤§å€¼
* `place` è¡¨ç¤ºå½“å‰ä½æ•°
* `bucket` æ˜¯åŸºæ•°æ’åºéœ€è¦ç”¨åˆ°çš„æ¡¶
    * `bucket` è™½ç„¶æ˜¯äºŒç»´æ•°ç»„ï¼Œä½†ä½¿ç”¨çš„æ€»ç©ºé—´å¤§å°ä¸º `10 * n`ï¼Œå¹¶æ²¡æœ‰è¶…å‡º **çº¿æ€§ç©ºé—´** çš„é™åˆ¶
* `count` å­˜å‚¨ `bucket` æ¯ä¸€ä¸ªæ¡¶å½“å‰çš„é•¿åº¦ï¼Œæ–¹ä¾¿æ’å…¥å…ƒç´ 

<br/>

* å…ƒç´ å½“å‰ä½æ•°æ˜¯ `digit`ï¼Œå°±å°†å…ƒç´ ä¸´æ—¶å­˜å‚¨åˆ° `bucket[digit][count[bucket]++]` ä¸­
* **ä¾‹å­ï¼š**
    * å‡è®¾å½“å‰æ¯”è¾ƒçš„æ˜¯ä¸ªä½æ•°ï¼Œ`place == 1`
    * `count` ä¸­æ‰€æœ‰å…ƒç´ åˆå§‹å€¼éƒ½ä¸º `0`
    * éå†åˆ°ä¸€ä¸ªå…ƒç´ ä¸º `135`ï¼Œä¸ªä½æ•°æ˜¯ `5`ï¼Œå°†å…ƒç´ æ”¾å…¥ `bucket[5][count[5]]`
    * æ­¤æ—¶ `count[5] == 0`ï¼Œä¹Ÿå°±æ˜¯æ”¾å…¥ `bucket[5][0]` ä¸­ï¼Œç„¶å `count[5]++`
    * å†éå†åˆ°ä¸€ä¸ªå…ƒç´ ä¸º `85`ï¼Œä¸ªä½æ•°ä¹Ÿæ˜¯ `5`ï¼Œä¹Ÿæ”¾å…¥ `bucket[5][count[5]]`
    * è€Œæ­¤æ—¶ `count[5] == 1`ï¼Œä¹Ÿå°±æ˜¯æ”¾å…¥ `bucket[5][1]` ä¸­

<br/>

* éå†ä¸€è½®æ•°ç»„ `nums` åï¼Œå°† `bucket` æ‹‰å¹³æˆä¸€ç»´æ•°ç»„ï¼Œé‡æ–°å­˜å‚¨å› `nums` ä¸­
* é‡ç½®æ•°ç»„ `count`ï¼Œå°†å…¶ä¸­å…ƒç´ éƒ½é‡æ–°ç½®ä¸º `0`
* `place *= 10`ï¼Œä¸‹ä¸€è½®éœ€è¦æ¯”è¾ƒæ›´é«˜ä¸€ä½ä¸Šçš„æ•°å­—
* `bucket` ä¸éœ€è¦é‡ç½®
    * å› ä¸ºæ‹‰å¹³æˆä¸€ç»´æ•°ç»„æ—¶ä¼šä½¿ç”¨æ•°ç»„ `count` æ§åˆ¶ `j` çš„å€¼
    * æ¡¶ä¸­æœ¬è½®æ²¡æœ‰ç”¨åˆ°çš„ç©ºé—´ä¸­ï¼Œå³ä½¿å­˜å‚¨ç€ä¸Šä¸€è½®è®¡ç®—ç•™ä¸‹çš„æ•°æ®
    * ä¹Ÿä¸ä¼šå½±å“åˆ°æœ¬è½®æ‹‰å¹³æ“ä½œï¼Œå› ä¸º `count` ä¼šæ§åˆ¶æ‹‰å¹³æ—¶ï¼Œéå†åˆ°æ¡¶çš„ä»€ä¹ˆä½ç½®æ—¶ç»“æŸ

<br/>

#### C

```
int maximumGap(int* nums, int numsSize){
    if (numsSize < 2) {
        return 0;
    }
    int maxNumber = -1;
    for (int i = 0; i < numsSize; i++) {
        maxNumber = fmax(maxNumber, nums[i]);
    }
    int place = 1;
    int bucket[10][numsSize];
	int count[10] = {0};
    while (maxNumber >= place) {
        for (int i = 0; i < numsSize; i++) {
            int digit = (nums[i] / place) % 10;
            bucket[digit][count[digit]++] = nums[i];
        }
        int k = 0;
        for (int i = 0; i < 10; i++) {
            for (int j = 0; j < count[i]; j++) {
                nums[k++] = bucket[i][j];
            }
        }
        place *= 10;
        memset(count, 0, sizeof(int) * 10);
    }
    int result = 0;
    for (int i = 0; i < numsSize - 1; i++) {
        result = fmax(result, nums[i + 1] - nums[i]);
    }
    return result;
}
```

<br/>

#### C++

```
class Solution {
public:
    int maximumGap(vector<int>& nums) {
        int len = nums.size();
        if (len < 2) {
            return 0;
        }
        int maxNumber = -1;
        for (int num : nums) {
            maxNumber = max(maxNumber, num);
        }
        int place = 1;
        int bucket[10][len];
    	int count[10] = {0};
        while (maxNumber >= place) {
            for (int num : nums) {
                int digit = (num / place) % 10;
                bucket[digit][count[digit]++] = num;
            }
            int k = 0;
            for (int i = 0; i < 10; i++) {
                for (int j = 0; j < count[i]; j++) {
                    nums[k++] = bucket[i][j];
                }
            }
            place *= 10;
            memset(count, 0, sizeof(int) * 10);
        }
        int result = 0;
        for (int i = 0; i < len - 1; i++) {
            result = max(result, nums[i + 1] - nums[i]);
        }
        return result;
    }
};
```

<br/>

#### Java

```
class Solution {
    public int maximumGap(int[] nums) {
        int len = nums.length;
        if (len < 2) {
            return 0;
        }
        int max = Arrays.stream(nums).max().getAsInt();
        int place = 1;
        int[][] bucket = new int[10][len];
    	int[] count = new int[10];
        while (max >= place) {
            for (int num : nums) {
                int digit = (num / place) % 10;
                bucket[digit][count[digit]++] = num;
            }
            int k = 0;
            for (int i = 0; i < 10; i++) {
                for (int j = 0; j < count[i]; j++) {
                    nums[k++] = bucket[i][j];
                }
            }
            place *= 10;
            count = new int[10];
        }
        int result = 0;
        for (int i = 0; i < len - 1; i++) {
            result = Math.max(result, nums[i + 1] - nums[i]);
        }
        return result;
    }
}
```
