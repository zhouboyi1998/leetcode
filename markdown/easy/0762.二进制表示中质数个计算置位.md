<h1 style="text-align: center;"> <span style="color: #00AF9B;">762. äºŒè¿›åˆ¶è¡¨ç¤ºä¸­è´¨æ•°ä¸ªè®¡ç®—ç½®ä½</span> </h1>

### ğŸš€ LeetCode

<base target="_blank">

<span style="color: #00AF9B;">**Easy**</span> [**https://leetcode.cn/problems/prime-number-of-set-bits-in-binary-representation/**](https://leetcode.cn/problems/prime-number-of-set-bits-in-binary-representation/)

---

### â“ Description

<br/>

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `left` å’Œ `right` ï¼Œåœ¨é—­åŒºé—´ `[left, right]` èŒƒå›´å†…ï¼Œç»Ÿè®¡å¹¶è¿”å› **è®¡ç®—ç½®ä½ä½æ•°ä¸ºè´¨æ•°** çš„æ•´æ•°ä¸ªæ•°ã€‚

**è®¡ç®—ç½®ä½ä½æ•°** å°±æ˜¯äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ `1` çš„ä¸ªæ•°ã€‚

* ä¾‹å¦‚ï¼Œ `21` çš„äºŒè¿›åˆ¶è¡¨ç¤º `10101` æœ‰ `3` ä¸ªè®¡ç®—ç½®ä½ã€‚

<br/>

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: left = 6, right = 10
è¾“å‡º: 4
è§£é‡Š:
    * 6 -> 110 (2 ä¸ªè®¡ç®—ç½®ä½, 2 æ˜¯è´¨æ•°)
    * 7 -> 111 (3 ä¸ªè®¡ç®—ç½®ä½, 3 æ˜¯è´¨æ•°)
    * 9 -> 1001 (2 ä¸ªè®¡ç®—ç½®ä½, 2 æ˜¯è´¨æ•°)
    * 10-> 1010 (2 ä¸ªè®¡ç®—ç½®ä½, 2 æ˜¯è´¨æ•°)
    * å…±è®¡ 4 ä¸ªè®¡ç®—ç½®ä½ä¸ºè´¨æ•°çš„æ•°å­—
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: left = 10, right = 15
è¾“å‡º: 5
è§£é‡Š:
    * 10 -> 1010 (2 ä¸ªè®¡ç®—ç½®ä½, 2 æ˜¯è´¨æ•°)
    * 11 -> 1011 (3 ä¸ªè®¡ç®—ç½®ä½, 3 æ˜¯è´¨æ•°)
    * 12 -> 1100 (2 ä¸ªè®¡ç®—ç½®ä½, 2 æ˜¯è´¨æ•°)
    * 13 -> 1101 (3 ä¸ªè®¡ç®—ç½®ä½, 3 æ˜¯è´¨æ•°)
    * 14 -> 1110 (3 ä¸ªè®¡ç®—ç½®ä½, 3 æ˜¯è´¨æ•°)
    * 15 -> 1111 (4 ä¸ªè®¡ç®—ç½®ä½, 4 ä¸æ˜¯è´¨æ•°)
    * å…±è®¡ 5 ä¸ªè®¡ç®—ç½®ä½ä¸ºè´¨æ•°çš„æ•°å­—
```

<br/>

**æç¤ºï¼š**

* `1 <= left <= right <= 10^6`
* `0 <= right - left <= 10^4`

---

### â— Solution

<br/>

#### idea

* éå†åŒºé—´ `[left, right]` ä¸­çš„æ¯ä¸€ä¸ªæ•°
* åˆ©ç”¨ <span style="color: #AF52DE;">**ä½è¿ç®—ï¼ˆä¸è¿ç®—ï¼‰**</span> æ€§è´¨ç»Ÿè®¡æ¯ä¸€ä¸ªæ•°çš„ **è®¡ç®—ç½®ä½ä½æ•°**
    * ä¸€ä¸ªæ•° `n` ä¸ `n - 1` è¿›è¡Œ **ä¸è¿ç®—**ï¼Œä¼šæ¶ˆæ‰äºŒè¿›åˆ¶ä¸­ä½æ•°æœ€ä½çš„ `1`
* è·å¾— **è®¡ç®—ç½®ä½ä½æ•°** åï¼Œåˆ¤æ–­æ˜¯å¦ä¸º **è´¨æ•°**

<br/>

#### C

```
int countPrimeSetBits(int left, int right){
    int result = 0;
    bool isPrime = true;
    for (int i = left; i <= right; i++) {
        int setBits = 0;
        int n = i;
        while (n > 0) {
            n &= n - 1;
            setBits++;
        }
        if (setBits == 1) {
            continue;
        }
        if (setBits == 2 || setBits == 3) {
            result++;
            continue;
        }
        for (int j = 2; j <= setBits / 2; j++) {
            if (setBits % j == 0) {
                isPrime = false;
                break;
            }
        }
        result = isPrime ? ++result : result;
        isPrime = true;
    }
    return result;
}
```

<br/>

#### C++

```
class Solution {
public:
    int countPrimeSetBits(int left, int right) {
        int result = 0;
        bool isPrime = true;
        for (int i = left; i <= right; i++) {
            int setBits = 0;
            int n = i;
            while (n > 0) {
                n &= n - 1;
                setBits++;
            }
            if (setBits == 1) {
                continue;
            }
            if (setBits == 2 || setBits == 3) {
                result++;
                continue;
            }
            for (int j = 2; j <= setBits / 2; j++) {
                if (setBits % j == 0) {
                    isPrime = false;
                    break;
                }
            }
            result = isPrime ? ++result : result;
            isPrime = true;
        }
        return result;
    }
};
```

<br/>

#### Java

```
class Solution {
    public int countPrimeSetBits(int left, int right) {
        int result = 0;
        boolean isPrime = true;
        for (int i = left; i <= right; i++) {
            int setBits = 0;
            int n = i;
            while (n > 0) {
                n &= n - 1;
                setBits++;
            }
            if (setBits == 1) {
                continue;
            }
            if (setBits == 2 || setBits == 3) {
                result++;
                continue;
            }
            for (int j = 2; j <= setBits / 2; j++) {
                if (setBits % j == 0) {
                    isPrime = false;
                    break;
                }
            }
            result = isPrime ? ++result : result;
            isPrime = true;
        }
        return result;
    }
}
```

<br/>

#### JavaScript

```
/**
 * @param {number} left
 * @param {number} right
 * @return {number}
 */
var countPrimeSetBits = function(left, right) {
    let result = 0
    let isPrime = true
    for (let i = left; i <= right; i++) {
        let setBits = 0
        let n = i
        while (n > 0) {
            n &= n - 1
            setBits++
        }
        if (setBits == 1) {
            continue
        }
        if (setBits == 2 || setBits == 3) {
            result++
            continue
        }
        for (let j = 2; j <= setBits / 2; j++) {
            if (setBits % j == 0) {
                isPrime = false
                break
            }
        }
        result = isPrime ? ++result : result
        isPrime = true
    }
    return result
};
```
