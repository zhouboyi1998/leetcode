<h1 style="text-align: center;"> <span style="color: #FFB822;">289. ç”Ÿå‘½æ¸¸æˆ</span> </h1>

### ğŸš€ LeetCode

<base target="_blank">

<span style="color: #FFB822;">**Medium**</span> [**https://leetcode.cn/problems/game-of-life/**](https://leetcode.cn/problems/game-of-life/)

---

### â“ Description

<br/>

[**ç”Ÿå‘½æ¸¸æˆ**](https://baike.baidu.com/item/%E5%BA%B7%E5%A8%81%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F/22668799) ï¼Œç®€ç§°ä¸º **ç”Ÿå‘½** ï¼Œæ˜¯è‹±å›½æ•°å­¦å®¶ **çº¦ç¿° Â· ä½•é¡¿ Â· åº·å¨** åœ¨ `1970` å¹´å‘æ˜çš„ç»†èƒè‡ªåŠ¨æœºã€‚

ç»™å®šä¸€ä¸ªåŒ…å« `m Ã— n` ä¸ªæ ¼å­çš„é¢æ¿ï¼Œæ¯ä¸€ä¸ªæ ¼å­éƒ½å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç»†èƒã€‚

æ¯ä¸ªç»†èƒéƒ½å…·æœ‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼š `1` å³ä¸º **æ´»ç»†èƒï¼ˆliveï¼‰** ï¼Œæˆ– `0` å³ä¸º **æ­»ç»†èƒï¼ˆdeadï¼‰** ã€‚

æ¯ä¸ªç»†èƒä¸å…¶å…«ä¸ªç›¸é‚»ä½ç½®ï¼ˆæ°´å¹³ï¼Œå‚ç›´ï¼Œå¯¹è§’çº¿ï¼‰çš„ç»†èƒéƒ½éµå¾ªä»¥ä¸‹å››æ¡ç”Ÿå­˜å®šå¾‹ï¼š

1. å¦‚æœæ´»ç»†èƒå‘¨å›´å…«ä¸ªä½ç½®çš„æ´»ç»†èƒæ•°å°‘äºä¸¤ä¸ªï¼Œåˆ™è¯¥ä½ç½®æ´»ç»†èƒæ­»äº¡ï¼›
2. å¦‚æœæ´»ç»†èƒå‘¨å›´å…«ä¸ªä½ç½®æœ‰ä¸¤ä¸ªæˆ–ä¸‰ä¸ªæ´»ç»†èƒï¼Œåˆ™è¯¥ä½ç½®æ´»ç»†èƒä»ç„¶å­˜æ´»ï¼›
3. å¦‚æœæ´»ç»†èƒå‘¨å›´å…«ä¸ªä½ç½®æœ‰è¶…è¿‡ä¸‰ä¸ªæ´»ç»†èƒï¼Œåˆ™è¯¥ä½ç½®æ´»ç»†èƒæ­»äº¡ï¼›
4. å¦‚æœæ­»ç»†èƒå‘¨å›´æ­£å¥½æœ‰ä¸‰ä¸ªæ´»ç»†èƒï¼Œåˆ™è¯¥ä½ç½®æ­»ç»†èƒå¤æ´»ï¼›

ä¸‹ä¸€ä¸ªçŠ¶æ€æ˜¯é€šè¿‡å°†ä¸Šè¿°è§„åˆ™åŒæ—¶åº”ç”¨äºå½“å‰çŠ¶æ€ä¸‹çš„æ¯ä¸ªç»†èƒæ‰€å½¢æˆçš„ï¼Œå…¶ä¸­ç»†èƒçš„å‡ºç”Ÿå’Œæ­»äº¡æ˜¯åŒæ—¶å‘ç”Ÿçš„ã€‚

ç»™ä½  `m x n` ç½‘æ ¼é¢æ¿ `board` çš„å½“å‰çŠ¶æ€ï¼Œè¿”å›ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚

<br/>

**ç¤ºä¾‹ 1ï¼š**

<img src="../../public/0289/game-of-life-1.jpg" alt="game-of-life-1.jpg" style="margin-bottom: 20px;"/>

```
è¾“å…¥: board = [[0, 1, 0], [0, 0, 1], [1, 1, 1], [0, 0, 0]]
è¾“å‡º: [[0, 0, 0], [1, 0, 1], [0, 1, 1], [0, 1, 0]]
```

**ç¤ºä¾‹ 2ï¼š**

<img src="../../public/0289/game-of-life-2.jpg" alt="game-of-life-2.jpg" style="margin-bottom: 20px;"/>

```
è¾“å…¥: board = [[1, 1], [1, 0]]
è¾“å‡º: [[1, 1], [1, 1]]
```

<br/>

**æç¤ºï¼š**

* `m == board.length`
* `n == board[i].length`
* `1 <= m, n <= 25`
* `board[i][j]` ä¸º `0` æˆ– `1`

<br/>

**è¿›é˜¶ï¼š**

* ä½ å¯ä»¥ä½¿ç”¨ [**åŸåœ°**](https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95) ç®—æ³•è§£å†³æœ¬é¢˜å—ï¼Ÿ
* è¯·æ³¨æ„ï¼Œé¢æ¿ä¸Šæ‰€æœ‰æ ¼å­éœ€è¦åŒæ—¶è¢«æ›´æ–°ï¼šä½ ä¸èƒ½å…ˆæ›´æ–°æŸäº›æ ¼å­ï¼Œç„¶åä½¿ç”¨å®ƒä»¬çš„æ›´æ–°åçš„å€¼å†æ›´æ–°å…¶ä»–æ ¼å­ã€‚
* æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äºŒç»´æ•°ç»„æ¥è¡¨ç¤ºé¢æ¿ã€‚
* åŸåˆ™ä¸Šï¼Œé¢æ¿æ˜¯æ— é™çš„ï¼Œä½†å½“æ´»ç»†èƒä¾µå äº†é¢æ¿è¾¹ç•Œæ—¶ä¼šé€ æˆé—®é¢˜ã€‚
* ä½ å°†å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ï¼Ÿ

---

### â— Backup Solution

<br/>

#### idea

* æ‹·è´ `board` åˆ°ä¸€ä¸ªæ–°çš„äºŒç»´æ•°ç»„ `backupBoard` ä¸­åšå¤‡ä»½ï¼ˆæ— æ³•æ»¡è¶³è¿›é˜¶ä¸­ **åŸåœ°** çš„è¦æ±‚ï¼‰
* éå† `backupBoard`
* ç»Ÿè®¡æ¯ä¸€ä¸ª `cell` å‘¨å›´å­˜æ´»çš„ `cell` æ•°é‡
* ç»Ÿè®¡å®Œååˆ¤æ–­å½“å‰ `cell` çš„çŠ¶æ€ï¼Œä¿®æ”¹ `board` æ•°ç»„

<br/>

* æ—¶é—´å¤æ‚åº¦ï¼š`O(m * n)`
* ç©ºé—´å¤æ‚åº¦ï¼š`O(m * n)`

<br/>

#### Java

```
class Solution {
    public void gameOfLife(int[][] board) {
        int row = board.length;
        int col = board[0].length;
        int[][] backupBoard = new int[row][col];
        for (int i = 0; i < row; i++) {
            for (int j = 0; j < col; j++) {
                backupBoard[i][j] = board[i][j];
            }
        }
        for (int i = 0; i < row; i++) {
            for (int j = 0; j < col; j++) {
                int liveCell = 0;
                for (int x = i - 1; x <= i + 1; x++) {
                    for (int y = j - 1; y <= j + 1; y++) {
                        if (
                            x >= 0 && x < row && y >= 0 && y < col && 
                            !(x == i && y == j) && backupBoard[x][y] == 1
                        ) {
                            liveCell++;
                        }
                    }
                }
                if (liveCell < 2 || liveCell > 3) {
                    board[i][j] = 0;
                } else if (liveCell == 3) {
                    board[i][j] = 1;
                }
            }
        }
    }
}
```

<br/>

#### Go

```
func gameOfLife(board [][]int)  {
    row := len(board);
    col := len(board[0]);
    backupBoard := make([][]int, row);
    for i := range backupBoard {
        backupBoard[i] = make([]int, col);
    }
    for i := 0; i < row; i++ {
        for j := 0; j < col; j++ {
            backupBoard[i][j] = board[i][j];
        }
    }
    for i := 0; i < row; i++ {
        for j := 0; j < col; j++ {
            liveCell := 0;
            for x := i - 1; x <= i + 1; x++ {
                for y := j - 1; y <= j + 1; y++ {
                    if x >= 0 && x < row && y >= 0 && y < col && 
                       !(x == i && y == j) && backupBoard[x][y] == 1 {
                        liveCell++;
                    }
                }
            }
            if liveCell < 2 || liveCell > 3 {
                board[i][j] = 0;
            } else if liveCell == 3 {
                board[i][j] = 1;
            }
        }
    }
}
```

<br/>

#### Rust

```
impl Solution {
    pub fn game_of_life(board: &mut Vec<Vec<i32>>) {
        let row = board.len();
        let col = board[0].len();
        let mut backupBoard: Vec<Vec<i32>> = vec![vec![0; col]; row];
        for (i, r) in backupBoard.iter_mut().enumerate() {
            for (j, c) in r.iter_mut().enumerate() {
                *c = board[i][j];
            }
        }
        for (i, r) in board.iter_mut().enumerate() {
            for (j, c) in r.iter_mut().enumerate() {
                let mut liveCell = 0;
                for x in i as i32 - 1 .. i as i32 + 2 {
                    for y in j as i32 - 1 .. j as i32 + 2 {
                        if x >= 0 && x < row as i32 && 
                           y >= 0 && y < col as i32 && 
                           !(x == i as i32 && y == j as i32) && 
                           backupBoard[x as usize][y as usize] == 1
                        {
                            liveCell += 1;
                        }
                    }
                }
                if liveCell < 2 || liveCell > 3 {
                    *c = 0;
                } else if liveCell == 3 {
                    *c = 1;
                }
            }
        }
    }
}
```

---

### â— Status Solution

<br/>

#### idea

* ä¸å¤‡ä»½æ•°ç»„ï¼Œä½¿ç”¨ä¸¤ç§é¢å¤–çš„çŠ¶æ€æ¥è¡¨ç¤ºä¸€ä¸ª `cell` **ä¸‹ä¸€è½®çš„çŠ¶æ€**ï¼ˆæ»¡è¶³è¿›é˜¶ä¸­ **åŸåœ°** çš„è¦æ±‚ï¼‰
    * å¦‚æœä¸€ä¸ª `cell` **è¿™ä¸€è½®å­˜æ´»**ï¼Œ**ä¸‹ä¸€è½®æ­»äº¡**ï¼ŒçŠ¶æ€ç½®ä¸º `2`
    * å¦‚æœä¸€ä¸ª `cell` **è¿™ä¸€è½®æ­»äº¡**ï¼Œ**ä¸‹ä¸€è½®å¤æ´»**ï¼ŒçŠ¶æ€ç½®ä¸º `-1`
* ç„¶ååœ¨ç»Ÿè®¡æ¯ä¸€ä¸ª `cell` å‘¨å›´å­˜æ´»çš„ `cell` æ•°é‡çš„æ—¶å€™ï¼Œç¨å¾®æ”¹å˜ä»¥ä¸‹åˆ¤æ–­æ¡ä»¶
    * çŠ¶æ€å¤§äº `0` è¡¨ç¤º **è¿™ä¸€è½®å­˜æ´»**ï¼Œå¦åˆ™è¡¨ç¤º **è¿™ä¸€è½®æ­»äº¡**
* ç»Ÿè®¡å®Œæ‰€æœ‰ `cell` çš„çŠ¶æ€åï¼Œå†ä¿®æ”¹ `board` æ•°ç»„
    * çŠ¶æ€ç­‰äº `2` çš„æ”¹ä¸º `0`
    * çŠ¶æ€ç­‰äº `-1` çš„æ”¹ä¸º `1`

<br/>

* æ—¶é—´å¤æ‚åº¦ï¼š`O(m * n)`
* ç©ºé—´å¤æ‚åº¦ï¼š`O(1)`

<br/>

#### Java

```
class Solution {
    public void gameOfLife(int[][] board) {
        int row = board.length;
        int col = board[0].length;
        for (int i = 0; i < row; i++) {
            for (int j = 0; j < col; j++) {
                int liveCell = 0;
                for (int x = i - 1; x <= i + 1; x++) {
                    for (int y = j - 1; y <= j + 1; y++) {
                        if (
                            x >= 0 && x < row && y >= 0 && y < col && 
                            !(x == i && y == j) && board[x][y] > 0
                        ) {
                            liveCell++;
                        }
                    }
                }
                if ((liveCell < 2 || liveCell > 3) && board[i][j] == 1) {
                    board[i][j] = 2;
                } else if (liveCell == 3 && board[i][j] == 0) {
                    board[i][j] = -1;
                }
            }
        }
        for (int i = 0; i < row; i++) {
            for (int j = 0; j < col; j++) {
                if (board[i][j] == 2) {
                    board[i][j] = 0;
                } else if (board[i][j] == -1) {
                    board[i][j] = 1;
                }
            }
        }
    }
}
```

<br/>

#### Go

```
func gameOfLife(board [][]int)  {
    row := len(board);
    col := len(board[0]);
    for i := 0; i < row; i++ {
        for j := 0; j < col; j++ {
            liveCell := 0;
            for x := i - 1; x <= i + 1; x++ {
                for y := j - 1; y <= j + 1; y++ {
                    if x >= 0 && x < row && y >= 0 && y < col && 
                       !(x == i && y == j) && board[x][y] > 0 {
                        liveCell++;
                    }
                }
            }
            if (liveCell < 2 || liveCell > 3) && board[i][j] == 1 {
                board[i][j] = 2;
            } else if liveCell == 3 && board[i][j] == 0 {
                board[i][j] = -1;
            }
        }
    }
    for i := 0; i < row; i++ {
        for j := 0; j < col; j++ {
            if board[i][j] == 2 {
                board[i][j] = 0;
            } else if board[i][j] == -1 {
                board[i][j] = 1;
            }
        }
    }
}
```

#### Rust

```
impl Solution {
    pub fn game_of_life(board: &mut Vec<Vec<i32>>) {
        let row = board.len();
        let col = board[0].len();
        for i in 0 .. row {
            for j in 0 .. col {
                let mut liveCell = 0;
                for x in i as i32 - 1 .. i as i32 + 2 {
                    for y in j as i32 - 1 .. j as i32 + 2 {
                        if x >= 0 && x < row as i32 && 
                           y >= 0 && y < col as i32 && 
                           !(x == i as i32 && y == j as i32) && 
                           board[x as usize][y as usize] > 0
                        {
                            liveCell += 1;
                        }
                    }
                }
                if (liveCell < 2 || liveCell > 3) && board[i][j] == 1 {
                    board[i][j] = 2;
                } else if liveCell == 3 && board[i][j] == 0 {
                    board[i][j] = -1;
                }
            }
        }
        for r in board.iter_mut() {
            for c in r.iter_mut() {
                if *c == 2 {
                    *c = 0;
                } else if *c == -1 {
                    *c = 1;
                }
            }
        }
    }
}
```
