<h1 style="text-align: center;"> <span style="color: #FFB822;">958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ</span> </h1>

### ğŸš€ LeetCode

<base target="_blank">

<span style="color: #FFB822;">**Medium**</span> [**https://leetcode.cn/problems/check-completeness-of-a-binary-tree/**](https://leetcode.cn/problems/check-completeness-of-a-binary-tree/)

---

### â“ Description

<br/>

ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root`ï¼Œè¯·ä½ åˆ¤æ–­è¿™æ£µæ ‘æ˜¯å¦æ˜¯ä¸€æ£µ [**å®Œå…¨äºŒå‰æ ‘**](https://baike.baidu.com/item/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91/7773232?fr=aladdin) ã€‚

åœ¨ä¸€æ£µ **å®Œå…¨äºŒå‰æ ‘** ä¸­ï¼Œé™¤äº†æœ€åä¸€å±‚å¤–ï¼Œæ‰€æœ‰å±‚éƒ½è¢«å®Œå…¨å¡«æ»¡ï¼Œå¹¶ä¸”æœ€åä¸€å±‚ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å°½å¯èƒ½é å·¦ã€‚

æœ€åä¸€å±‚ï¼ˆç¬¬ `h` å±‚ï¼‰ä¸­å¯ä»¥åŒ…å« `1` åˆ° `2h` ä¸ªèŠ‚ç‚¹ã€‚

<br/>

**ç¤ºä¾‹ 1ï¼š**

<img src="../../public/0958/complete-binary-tree-1.png" alt="complete-binary-tree-1.png"/>

```
è¾“å…¥: root = [1, 2, 3, 4, 5, 6]
è¾“å‡º: true
è§£é‡Š: æœ€åä¸€å±‚å‰çš„æ¯ä¸€å±‚éƒ½æ˜¯æ»¡çš„ (å³: èŠ‚ç‚¹å€¼ä¸º {1} å’Œ {2, 3} çš„ä¸¤å±‚), ä¸”æœ€åä¸€å±‚ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ ({4, 5, 6}) å°½å¯èƒ½é å·¦
```

**ç¤ºä¾‹ 2ï¼š**

<img src="../../public/0958/complete-binary-tree-2.png" alt="complete-binary-tree-2.png"/>

```
è¾“å…¥: root = [1, 2, 3, 4, 5, null, 7]
è¾“å‡º: false
è§£é‡Š: å€¼ä¸º 7 çš„èŠ‚ç‚¹ä¸æ»¡è¶³æ¡ä»¶ã€ŒèŠ‚ç‚¹å°½å¯èƒ½é å·¦ã€
```

<br/>

**æç¤ºï¼š**

* æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ `[1, 100]` å†…
* `1 <= Node.val <= 1000`

---

### â— Solutionï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰

<br/>

#### Java

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 * int val;
 * TreeNode left;
 * TreeNode right;
 * TreeNode() {}
 * TreeNode(int val) { this.val = val; }
 * TreeNode(int val, TreeNode left, TreeNode right) {
 * this.val = val;
 * this.left = left;
 * this.right = right;
 * }
 * }
 */
class Solution {
    // è®°å½•èŠ‚ç‚¹æ•°é‡
    int count = 0;
    // è®°å½•æœ€å¤§ä¸‹æ ‡ (ä¸‹æ ‡: å°†æ ‘èŠ‚ç‚¹æ”¾å…¥æ•°ç»„ä¸­, èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ä½ç½®)
    int maxIndex = 0;

    public boolean isCompleteTree(TreeNode root) {
        // æ·±åº¦ä¼˜å…ˆæœç´¢
        dfs(root, 1);
        // å®Œå…¨äºŒå‰æ ‘æ”¾å…¥æ•°ç»„, æ•°ç»„ä¸­é—´ä¸ä¼šæœ‰ null çš„å…ƒç´ 
        // å¦‚æœèŠ‚ç‚¹æ•°é‡ â‰  æœ€å¤§ä¸‹æ ‡, è¯´æ˜ä¸­é—´æœ‰ null çš„èŠ‚ç‚¹, å³ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘
        return count == maxIndex;
    }

    public void dfs(TreeNode node, int index) {
        // å¦‚æœèŠ‚ç‚¹ä¸º null, è¯´æ˜æ·±åº¦æœç´¢åˆ°äº†å¶å­èŠ‚ç‚¹, è¿”å›
        if (node == null) {
            return;
        }

        // å¦‚æœèŠ‚ç‚¹ä¸ä¸º null, èŠ‚ç‚¹æ•°é‡åŠ ä¸€, æ›´æ–°æœ€å¤§ä¸‹æ ‡
        count++;
        maxIndex = Math.max(maxIndex, index);

        // å·¦å­æ ‘ä¸‹æ ‡ä»å½“å‰èŠ‚ç‚¹ä¸‹æ ‡ * 2 å¼€å§‹
        dfs(node.left, index * 2);
        // å³å­æ ‘ä¸‹æ ‡ä»å½“å‰èŠ‚ç‚¹ä¸‹æ ‡ * 2 + 1 å¼€å§‹
        dfs(node.right, index * 2 + 1);
    }
}
```

---

### â— Solutionï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰

<br/>

#### Java

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 * int val;
 * TreeNode left;
 * TreeNode right;
 * TreeNode() {}
 * TreeNode(int val) { this.val = val; }
 * TreeNode(int val, TreeNode left, TreeNode right) {
 * this.val = val;
 * this.left = left;
 * this.right = right;
 * }
 * }
 */
class Solution {
    public boolean isCompleteTree(TreeNode root) {
        // è®°å½•æ˜¯å¦å·²ç»å‡ºç° null èŠ‚ç‚¹
        boolean empty = false;

        // åˆ©ç”¨é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹ç‚¹, å­˜å‚¨ä¸‹ä¸€å±‚æ ‘èŠ‚ç‚¹
        // å½“éå†å®Œå½“å‰å±‚çš„æ ‘èŠ‚ç‚¹, å°†ä¸‹ä¸€å±‚çš„æ ‘èŠ‚ç‚¹ä¾æ¬¡å–å‡ºè¿›è¡Œæ“ä½œ
        Queue<TreeNode> queue = new LinkedList<>();
        queue.add(root);

        while (!queue.isEmpty()) {
            // å–å‡ºä¸€ä¸ªæ ‘èŠ‚ç‚¹
            TreeNode node = queue.poll();
            // å¦‚æœå½“å‰èŠ‚ç‚¹ä¸º null, ä¿®æ”¹æ ‡å¿—
            if (node == null) {
                empty = true;
            } else if (empty) {
                // å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ä¸º null, ä½†æ˜¯åœ¨è¿™ä¹‹å‰å·²ç»å‡ºç°è¿‡ null èŠ‚ç‚¹
                // è¯´æ˜ä¸æ»¡è¶³å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§
                return false;
            } else {
                // å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ä¸º null, ä¹‹å‰ä¹Ÿæ²¡æœ‰å‡ºç°è¿‡ null èŠ‚ç‚¹
                // å°†å½“å‰èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹éƒ½æ·»åŠ åˆ°é˜Ÿå°¾ (å…ˆæ·»åŠ å·¦èŠ‚ç‚¹, å†æ·»åŠ å³èŠ‚ç‚¹, é¡ºåºä¸èƒ½ä¹±)
                queue.add(node.left);
                queue.add(node.right);
            }
        }

        // éå†ç»“æŸ, ä»ç„¶æ²¡æœ‰é‡åˆ°ä¸ç¬¦åˆç‰¹æ€§çš„æƒ…å†µ, è¯´æ˜æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘
        return true;
    }
}
```
