<h1 style="text-align: center;"> <span style="color: #FFB822;">148. æ’åºé“¾è¡¨</span> </h1>

### ğŸš€ LeetCode

<base target="_blank">

<span style="color: #FFB822;">**Medium**</span> [**https://leetcode.cn/problems/sort-list/**](https://leetcode.cn/problems/sort-list/)

---

### â“ Description

<br/>

ç»™ä½ é“¾è¡¨çš„å¤´ç»“ç‚¹ `head`ï¼Œè¯·å°†å…¶æŒ‰ **å‡åº** æ’åˆ—å¹¶è¿”å› **æ’åºåçš„é“¾è¡¨**ã€‚

<br/>

**ç¤ºä¾‹ 1ï¼š**

<img src="../../public/0148/sort-list-1.jpg" alt="sort-list-1.jpg"/>

```
è¾“å…¥: head = [4, 2, 1, 3]
è¾“å‡º: [1, 2, 3, 4]
```

**ç¤ºä¾‹ 2ï¼š**

<img src="../../public/0148/sort-list-2.jpg" alt="sort-list-2.jpg"/>

```
è¾“å…¥: head = [-1, 5, 3, 4, 0]
è¾“å‡º: [-1, 0, 3, 4, 5]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥: head = []
è¾“å‡º: []
```

<br/>

**æç¤ºï¼š**

* é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ `[0, 5 * 10^4]` å†…
* `-10^5 <= Node.val <= 10^5`

<br/>

**è¿›é˜¶ï¼š** ä½ å¯ä»¥åœ¨ `O(n log n)` æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºå—ï¼Ÿ

---

### â— Solution

<br/>

#### Java

```
/**
 * Definition for singly-linked list.
 * public class ListNode {
 * int val;
 * ListNode next;
 * ListNode() {}
 * ListNode(int val) { this.val = val; }
 * ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode sortList(ListNode head) {
        return divide(head, null);
    }

    // å¯¹åŠæ‹†åˆ†
    public ListNode divide(ListNode head, ListNode tail) {
        // å¦‚æœå¤´èŠ‚ç‚¹ä¸ºç©ºæˆ–è€…å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©º
        // è¯´æ˜å½“å‰å­é“¾è¡¨ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹, ç»“æŸé€’å½’, å¼€å§‹è¿”å›
        if (head == null || head.next == null) {
            return head;
        }

        // å¿«æ…¢æŒ‡é’ˆéå†é“¾è¡¨, æ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹
        ListNode slow = head, fast = head;

        // å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥, æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥
        // ç›´åˆ°å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨å°¾éƒ¨, æ­¤æ—¶æ…¢æŒ‡é’ˆæŒ‡å‘çš„å°±æ˜¯ä¸­é—´èŠ‚ç‚¹
        // å¦‚æœå½“å‰é“¾è¡¨é•¿åº¦ä¸ºå¶æ•°, æ…¢æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸­é—´ä¸¤ä¸ªèŠ‚ç‚¹ä¸­, é å·¦çš„é‚£ä¸€ä¸ªèŠ‚ç‚¹
        while (fast != tail) {
            fast = fast.next;
            if (fast != tail) {
                fast = fast.next;
                slow = slow.next;
            }
        }

        // è·å–ä¸¤ä¸ªä¸­é—´èŠ‚ç‚¹
        ListNode mid1 = slow;
        ListNode mid2 = slow.next;
        // åˆ‡æ–­å·¦å³å­é“¾è¡¨çš„è¿æ¥
        mid1.next = null;

        // é€’å½’, å°†å·¦å³å­é“¾è¡¨ç»§ç»­å·¦å³æ‹†åˆ†, ä¸€ç›´æ‹†åˆ†åˆ°æœ€å°å•å…ƒ, ä¹Ÿå°±æ˜¯ç›´åˆ°å­é“¾è¡¨ä¸ºç©ºæˆ–è€…é•¿åº¦ä¸º 1
        ListNode left = divide(head, mid1);
        ListNode right = divide(mid2, tail);
        // åˆå¹¶å·¦å³å­é“¾è¡¨, å¹¶åœ¨åˆå¹¶çš„åŒæ—¶è¿›è¡Œæ’åº
        return merge(left, right);
    }

    // å½’å¹¶æ’åº
    public ListNode merge(ListNode left, ListNode right) {
        ListNode head = new ListNode(0);
        ListNode node = head;
        while (left != null && right != null) {
            if (left.val <= right.val) {
                node.next = left;
                left = left.next;
            } else {
                node.next = right;
                right = right.next;
            }
            node = node.next;
        }
        if (left != null) {
            node.next = left;
        } else if (right != null) {
            node.next = right;
        }
        return head.next;
    }
}
```
