<h1 style="text-align: center;"> <span style="color: #FFB822;">413. ç­‰å·®æ•°åˆ—åˆ’åˆ†</span> </h1>

### ğŸš€ LeetCode

<base target="_blank">

<span style="color: #FFB822;">**Medium**</span> [**https://leetcode.cn/problems/arithmetic-slices/**](https://leetcode.cn/problems/arithmetic-slices/)

---

### â“ Description

<br/>

å¦‚æœä¸€ä¸ªæ•°åˆ— **è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´ **ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥æ•°åˆ—ä¸ºç­‰å·®æ•°åˆ—ã€‚

* ä¾‹å¦‚ï¼Œ`[1, 3, 5, 7, 9]`ã€`[7, 7, 7, 7]` å’Œ `[3, -1, -5, -9]` éƒ½æ˜¯ç­‰å·®æ•°åˆ—ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¿”å›æ•°ç»„ `nums` ä¸­æ‰€æœ‰ä¸ºç­‰å·®æ•°ç»„çš„ **å­æ•°ç»„** ä¸ªæ•°ã€‚

**å­æ•°ç»„** æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­åºåˆ—ã€‚

<br/>

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: nums = [1, 2, 3, 4]
è¾“å‡º: 3
è§£é‡Š: nums ä¸­æœ‰ä¸‰ä¸ªå­ç­‰å·®æ•°ç»„: [1, 2, 3]ã€[2, 3, 4] å’Œ [1, 2, 3, 4] è‡ªèº«
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: nums = [1]
è¾“å‡º: 0
```

<br/>

**æç¤ºï¼š**

* `1 <= nums.length <= 5000`
* `-1000 <= nums[i] <= 1000`

---

### â— Solution

<br/>

#### Java

```
class Solution {
    public int numberOfArithmeticSlices(int[] nums) {
        int length = nums.length;
        // å¦‚æœæ•°ç»„é•¿åº¦å°äº 3, ä¸å­˜åœ¨ç­‰å·®æ•°åˆ—, ç›´æ¥è¿”å› 0
        if (length < 3) {
            return 0;
        }

        // è®°å½•ç­‰å·®æ•°åˆ—çš„æ•°é‡
        int count = 0;
        // æ˜¯å¦ä¸ºç­‰å·®æ•°åˆ—çš„æ ‡å¿—
        int flag = 0;

        // æ…¢æŒ‡é’ˆè®°å½•å½“å‰çš„èµ·å§‹ä½ç½®
        int slow = 0;
        // å¿«æŒ‡é’ˆè®°å½•å½“å‰éå†çš„ä½ç½®
        int fast = 0;

        // ä½¿ç”¨åŒæŒ‡é’ˆéå†æ•°ç»„
        while (slow < length - 2) {
            // å¦‚æœå½“å‰å­æ•°ç»„ä¸ºç­‰å·®æ•°åˆ—, æ›´æ–°æ ‡å¿—
            // å¿«æŒ‡é’ˆ + 1, ä¸‹ä¸€è½®éœ€è¦è®¡ç®— "å½“å‰å­æ•°ç»„" å’Œ "å­æ•°ç»„åé¢ä¸€ä½çš„å…ƒç´ " åˆèµ·æ¥æ˜¯å¦ä¹Ÿä¸ºç­‰å·®æ•°åˆ—
            if (nums[fast + 1] - nums[fast] == nums[fast + 2] - nums[fast + 1]) {
                flag++;
                fast++;
            } else {
                // å¦‚æœå½“å‰å­æ•°ç»„ä¸æ˜¯ç­‰å·®æ•°åˆ—, æ›´æ–°æ ‡å¿—
                // æ…¢æŒ‡é’ˆ + 1, é‡ç½®å¿«æŒ‡é’ˆ, ä»¥æ–°çš„èµ·å§‹ä½ç½®å†æ¬¡å¼€å§‹éå†
                flag = 0;
                slow++;
                fast = slow;
            }
            // å¦‚æœå½“å‰å­æ•°ç»„ä¸ºç­‰å·®æ•°åˆ—, æ•°é‡ + 1
            if (flag > 0) {
                count++;
            }
            // å¦‚æœå¿«æŒ‡é’ˆèµ°åˆ°æ•°ç»„é•¿åº¦ - 2 çš„ä½ç½®, è¯´æ˜ä»¥å½“å‰æ…¢æŒ‡é’ˆæŒ‡å‘çš„ä¸‹æ ‡ä½œä¸ºèµ·å§‹ä½ç½®çš„éå†å·²ç»ç»“æŸ
            // æ…¢æŒ‡é’ˆ + 1, é‡ç½®å¿«æŒ‡é’ˆ, ä»¥æ–°çš„èµ·å§‹ä½ç½®å†æ¬¡å¼€å§‹éå†
            if (fast == length - 2) {
                flag = 0;
                slow++;
                fast = slow;
            }
        }

        return count;
    }
}
```
